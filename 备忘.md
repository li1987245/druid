网站：
https://www.iteblog.com/archives/tag/hadoop/
http://lxw1234.com

centos查看安装了某个包
1. rpm包安装的，可以用rpm -qa看到，如果要查找某软件包是否安装，用 rpm -qa | grep "软件或者包的名字"。
rpm -q 包名   可以查看依赖
2. deb包安装的，可以用dpkg -l能看到。如果是查找指定软件包，用dpkg -l | grep "软件或者包的名字"； 
3. yum方法安装的，可以用yum list installed查找，如果是查找指定包，命令后加 | grep "软件名或者包名"； 
4. 如果是以源码包自己编译安装的，例如.tar.gz或者tar.bz2形式的，这个只能看可执行文件是否存在了， 
上面两种方法都看不到这种源码形式安装的包。如果是以root用户安装的，可执行程序通常都在/sbin:/usr/bin目录下
 
5. pip安装的所有包：
pip list

- yum
```markdown
怎么使用YUM命令升级所有RPM软件包？

yum update

怎么使用YUM命令升级单个RPM软件包

yum update 软件名称

使用YUM安装RPM软件包

yum install 软件名称

使用YUM升级全部软件时怎么排除个别软件

假如你想升级所有软件包，但不想升级内核，就可以用下面的命令： yum --exclude=package kernel* update

怎么使用YUM来确定某个软件需要升级

下面的命令会检测 Fedora/CentOS/RHEL上的所有软件是否需要升级

check-update

使用YUM卸载软件

yum remove 软件名称 或者 yum erase 软件名称

使用YUM查看软件包相关信息

yum list可以让你获取软件包相关信息，后面不指定软件包名的话，它会列出所有软件包的信息。 yum list 软件名称

使用yum了解软件的主要功能

比如你想知道httpd这个软件是干吗的，可以输入下面的的命令： yum provides httpd

[root@ zhetenger ~]# yum provides nginx
Loaded plugins: priorities
nginx-.0.5-3.el6.i686 : A high performance web server and reverse proxy server
Repo        : epel
使用YUM查找软件包

如果你不知道某个软件包的全称，这个命令就非常有用了，它会根据你提供的关键词在RPM的软件包数据库里搜索相适配的软件包。比方说我想找 samba这个软件的全称，我只需要输入下面的命令即可： yum search samba
怎么清除YUM缓存和下载包文件

每安装一个软件包，YUM都是先下载一个RPM软件包然后再安装，安装完后并不会自动删除。时间长了，这些文件占很多空间的。所以，需要定时清理： yum clean all

怎么使用YUM安装本地RPM包

如果你想要自己创建一个RPM软件包，你你可以用YUM来确定存在哪些依赖关系： yum localinstall 软件名称.rpm

使用YUM升级本地RPM软件包

如果你想升级一个本地RPM软件包，可以用下面的命令： yum localupdate update-package.rpm

确定RPM包依赖哪些组件

如果你想自己源码安装软件，了解安装的软件包依赖哪些软件非常有必要的。deplist可以让你知道软件包依赖哪些组件，这些组件的全称是什么。 yum deplist 软件名称

查看YUM的版本信息

yum -v

使用YUM安装软件包到chroot环境（chroot)

你可以使用下面的命令把软件安装到chroot： yum --installroot=/path/to/chroot/

使用YUM启用已存在的软件源

如果你安装了第三方的软件源，你需要先启用该软件源才能从其安装软件，输入下面的命令启用EPEL软件源： yum --enablerepo=epel install rsnapshot

使用YUM禁用软件源

如果你安装了第三方软件源但不想从其安装软件，可以用下面的命令禁用： yum --disablerepo=epel install 软件名称

YUM软件集合
YUM软件集合是指多个共同协作的软件统称，比如“Development Tools”（开发工具）。 下面介绍下怎么用yum groupinstall命令来查看/安装/卸载yum软件集合

安装yum软件集合

yum groupinstall 'Development Tools'

卸载yum软件集合

yum groupremove 'Development Tools'

升级yum软件集合

yum groupupdate 'Development Tools'

查看yum软件集合信息

yum groupinfo 'Development Tools'

查看有哪些软件集合

yum grouplist | more

使用YUM输出已安装软件包列表

该命令适用所有使用YUM为软件管理器的linux版本，如CentOS, Fedora, RHEL： yum list installed
```

见的反安装target有： make uninstall/distclean/veryclean 等等。如果没有， 

事先记得记录'make install'的所有输出日志，'make install &> |tee make.log'

信号控制：

master进程可以理解以下信号

INT, TERM 立刻终止
QUIT 平滑终止
USR1 重新打开日志文件
USR2 平滑重载所有worker进程并重新载入配置和二进制模块

生成pid情况
php-fpm 关闭：
kill -INT 'cat /usr/local/php/var/run/php-fpm.pid'
php-fpm 重启：
kill -USR2 'cat /usr/local/php/var/run/php-fpm.pid'


hexdump -C area_code.csv |head 查看文件2进制格式


### ubuntu
```markdown
sudo apt-get install aptitude
sudo aptitude install python-dev
apt-cache search # ------(package 搜索包)
apt-cache show #------(package 获取包的相关信息，如说明、大小、版本等)
apt-get install # ------(package 安装包)
apt-get install # -----(package --reinstall 重新安装包)
apt-get -f install # -----(强制安装, "-f = --fix-missing"当是修复安装吧...)
apt-get remove #-----(package 删除包)
apt-get remove --purge # ------(package 删除包，包括删除配置文件等)
apt-get autoremove --purge # ----(package 删除包及其依赖的软件包+配置文件等（只对6.10有效，强烈推荐）)
apt-get update #------更新源
apt-get upgrade #------更新已安装的包
apt-get dist-upgrade # ---------升级系统
apt-get dselect-upgrade #------使用 dselect 升级
apt-cache depends #-------(package 了解使用依赖)
apt-cache rdepends # ------(package 了解某个具体的依赖,当是查看该包被哪些包依赖吧...)
apt-get build-dep # ------(package 安装相关的编译环境)
apt-get source #------(package 下载该包的源代码)
apt-get clean && apt-get autoclean # --------清理下载文件的存档 && 只清理过时的包
apt-get check #-------检查是否有损坏的依赖
dpkg -S filename -----查找filename属于哪个软件包
apt-file search filename -----查找filename属于哪个软件包
apt-file list packagename -----列出软件包的内容
apt-file update --更新apt-file的数据库

dpkg --info "软件包名" --列出软件包解包后的包名称.
dpkg -l --列出当前系统中所有的包.可以和参数less一起使用在分屏查看. (类似于rpm -qa)
dpkg -l |grep -i "软件包名" --查看系统中与"软件包名"相关联的包.
dpkg -s 查询已安装的包的详细信息.
dpkg -L 查询系统中已安装的软件包所安装的位置. (类似于rpm -ql)
dpkg -S 查询系统中某个文件属于哪个软件包. (类似于rpm -qf)
dpkg -I 查询deb包的详细信息,在一个软件包下载到本地之后看看用不用安装(看一下呗).
dpkg -i 手动安装软件包(这个命令并不能解决软件包之前的依赖性问题),如果在安装某一个软件包的时候遇到了软件依赖的问题,可以用apt-get -f install在解决信赖性这个问题.
dpkg -r 卸载软件包.不是完全的卸载,它的配置文件还存在.
dpkg -P 全部卸载(但是还是不能解决软件包的依赖性的问题)
dpkg -reconfigure 重新配置

```

- protobuf
```markdown
wget https://github.com/google/protobuf/releases/download/v2.5.0/protobuf-2.5.0.tar.gz
tar -xzf protobuf-2.5.0.tar.gz
cd protobuf-2.5.0/
./autogen.sh
./configure
make
make install
sudo ldconfig
```

- 编码转换
```markdown
enca filename #检查编码格式
enca -L zh_CN -x UTF-8 news_tensite_xml.smarty.dat/* #执行转换
iconv  -c  -f GB2312 -t UTF-8 filename > filename.txt #执行转换, -c 表示忽略未知字符
```
- 网络查看
```markdown
iptraf 可监控网卡流量和进程流量
dstat 可监控cpu、内存、网络（dstat -nf）
lsof -i:49704 查看端口连接情况
```
- 网关命令
```
1.ifconfig -a 和 cat /etc/resolv.conf  （主要查看ip/netmask和dns）

2.netstat -rn

3.cat /etc/sysconfig/network

4.cat /etc/sysconfig/network-scripts/ifcfg-eth0

5.traceroute 第一行就是自己的网关

6.ip route show

7.route -n
```
- route
```
route -n
用于打印路由表，加上-n参数就是在输出的信息中不打印主机名而直接打印ip地址。
route add default gw {IP-ADDRESS}{INTERFACE-NAME}
用于设置默认路由，其中，
参数{IP-ADDRESS): 用于指定路由器（网关）的IP地址；
参数{INTERFACE-NAME}: 用于指定接口名称，如eth0。使用/sbin/ifconfig -a可以显示所有接口信息。
route add -net {NETWORK-ADDRESS}netmask {NETMASK} dev {INTERFACE-NAME}
添加到指定网络的路由规则，其中
参数{NETWORK-ADDRESS}: 用于指定网络地址
参数{NETMASK}: 用于指定子网掩码
参数{INTERFACE-NAME}: 用于指定接口名称，如eth0。
route add -net 192.56.76.0 netmask 255.255.255.0 dev eth0
route add -net{NETWORK-ADDRESS} netmask {NETMASK} reject
设置到指定网络为不可达
route add -net 10.0.0.0 netmask 255.0.0.0 reject
route del -net {NETWORK-ADDRESS} netmask {NETMASK} dev {INTERFACE-NAME}
route del -net {NETWORK-ADDRESS} netmask {NETMASK} reject
```

- lsof
```
查看进程打开的文件
lsof -p pid
```
- linux 查看内核版本
```
一、查看Linux 内核版本命令 1、cat /proc/version. 2、uname -a.
二、查看Linux 系统版本的命令 1、lsb_release -a. 2、cat /etc/redhat-release. 3、cat /etc/issue.
```
- chmod
```
语法：chmod [who] [+ | - | =] [mode] 文件名
命令中各选项的含义为：

操作对象who可是下述字母中的任一个或者它们的组合：
　　u 表示“用户（user）”，即文件或目录的所有者。
　　g 表示“同组（group）用户”，即与文件属主有相同组ID的所有用户。
　　o 表示“其他（others）用户”。
　　a 表示“所有（all）用户”。它是系统默认值。
操作符号可以是：
　　+ 添加某个权限。
　　- 取消某个权限。
　　= 赋予给定权限并取消其他所有权限（如果有的话）。
设置 mode 所表示的权限可用下述字母的任意组合：
　　r 可读。
　　w 可写。
  　x 可执行。
　　X 只有目标文件对某些用户是可执行的或该目标文件是目录时才追加x 属性。
　　s 在文件执行时把进程的属主或组ID置为该文件的文件属主。
      方式“u＋s”设置文件的用户ID位，“g＋s”设置组ID位。
　　t 保存程序的文本到交换设备上。
　　u 与文件属主拥有一样的权限。
　　g 与和文件属主同组的用户拥有一样的权限。
　　o 与其他用户拥有一样的权限。
文件名：以空格分开的要改变权限的文件列表，支持通配符。
　　
在一个命令行中可给出多个权限方式，其间用逗号隔开。例如：

chmod g+r，o+r example  % 使同组和其他用户对文件example 有读权限
```
- dd
```
使用dd做读取测试
# echo 3 > /proc/sys/vm/drop_caches ; /usr/bin/time -p dd if=test.dd of=/dev/null  bs=1M
```
- vim
```
vim ~/.vimrc  vim /etc/vimrc
最后添加colorscheme peachpuff
```
- sudo
```
语法：sudo [-bhHpV][-s ][-u <用户>][指令]
或 sudo [-klv]
参数：
-b 　在后台执行指令。
-h 　显示帮助。
-H 　将HOME环境变量设为新身份的HOME环境变量。
-k 　结束密码的有效期限，也就是下次再执行sudo时便需要输入密码。
-l 　列出目前用户可执行与无法执行的指令。
-p 　改变询问密码的提示符号。
-s 　执行指定的shell。
-u <用户> 　以指定的用户作为新的身份。若不加上此参数，则预设以root作为新的身份。
-v 　延长密码有效期限5分钟。
-V 　显示版本信息。
-S   从标准输入流替代终端来获取密码
sudo的配置文件为：/etc/sudoers
root(用户) ALL(登录来源的主机名)=(ALL(可切换的用户)) ALL(可执行的命令)
%whell(组) ALL=(ALL) NOPASSWD:ALL 允许
sudo -u USERNAME COMMAND
非交互式输入密码：
1.安装expect工具：sudo apt-get install tcl tk expect
2.脚本文件内容如下：
#! /usr/bin/expect
spawn sudo apt-get update
send "zhoushuo\r"
interact
或
echo "password"|sudo -S 命令

```
- useradd usermod
```
useradd username -G groupname
usermod -a -G www git (git属于之前git组，也属于www组)
```
- ip
```
典型的CIDR地址例子是：192.0.2.89/32是一个单一主机，192.0.2.0/24是一个小网络，10.6.0.0/16是一个大网络。要指定一个单一主机，对IPv4使用一个CIDR掩码32，对IPv6使用128。在一个网络地址中，不要省略拖尾的零。
```
- tcp
```
查询tcp状态
netstat -n | awk '/^tcp/ {++state[$NF]} END {for(key in state) print key,"\t",state[key]}'
查询系统MSL
sysctl -a |grep keepalive
```
- 网络安全
```
物理链路层安全通过专线服务保证，网络层采用动态路由加密，应用采用HTTPS证书进行访问，实现传输层安全，应用层对关键字段进行加密脱敏
```

- Anaconda
1.安装
https://www.continuum.io/downloads
下载安装完成后，配置环境变量：
ANACONDA_HOME=
PATH=$ANACONDA_HOME:$ANACONDA_HOME/Scripts:$ANACONDA_HOME/Library/bin
QT_QPA_PLATFORM_PLUGIN_PATH=$ANACONDA_HOME/pkgs/qt-5.9.7-vc14h73c81de_0/Library/plugins
2.pycharm设置
file->setting->project interpreter->
virtualenv environment 设置路径为$ANACONDA_HOME/python.exe 或
conda environment 设置路径$ANACONDA_HOME/Scripts/conda.exe
3.基本使用
创建python3环境：conda create -n 环境名称 python=3.6 ipykernel
切换环境：
linux：source activate python3
windows：activate python3
列出环境信息：conda info --envs 当前环境前面有*符号
列出环境包：conda list
搜索当前环境包：conda search 包名
安装包：conda install --name 环境名 包名
卸载包：conda remove -n 环境名 包名
删除环境：conda remove -n python3 --all

jupyter安装
```
conda install ipykernel
conda install -n 环境名称 ipykernel # 安装包
python -m ipykernel install --user --name 环境名称 --display-name "在jupyter中显示的环境名称" # 将环境写入notebook的kernel
jupyter notebook
```

安装python包：
conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/
conda config --set show_channel_urls yes
conda create -n tensorflow python=3.5
activate tensorflow
pip install --ignore-installed --upgradehttps://storage.googleapis.com/tensorflow/windows/cpu/tensorflow-0.12.0-cp35-cp35m-win_amd64.whl

- git
```
export http_proxy=http://proxyAddress:port
git config --global http.proxy 127.0.0.1:8087
git config --global --list
git config --global --unset http.proxy

1. gitignore
.gitignore只能忽略那些原来没有被track的内容，需要先把本地缓存删除（改变成未track状态），然后再提交
git rm -r –cached filePath
git commit -m  ""
or
git rm -r –cached .
git add .
git commit -m ""
2. git放弃修改，覆盖本地代码
git checkout -- filepathname 放弃文件修改
git checkout . 放弃所有文件修改
git pull
3. 已经使用了  git add 缓存了代码
git reset HEAD filepathname 放弃文件修改
git reset HEAD . 放弃所有文件修改
4. git放弃修改，强制覆盖本地代码
git fetch --all
git reset --hard origin/master
git pull
5. remove git untrack file
git clean -nxfd # 删除gitignore的untrack文件/目录，n表示查看哪些要被删除
git clean -nf # 删除untrack文件
git clean -nfd # 删除untrack文件/目录
```
4. git rebase
合并多个commit为一个完整commit
git rebase -i  [startpoint]  [endpoint] # 如果不指定[endpoint]，则该区间的终点默认是当前分支HEAD所指向的commit
git rebase -i 36224db 或 git rebase -i HEAD~3
pick：保留该commit（缩写:p）
reword：保留该commit，但我需要修改该commit的注释（缩写:r）
edit：保留该commit, 但我要停下来修改该提交(不仅仅修改注释)（缩写:e）
squash：将该commit和前一个commit合并（缩写:s）
fixup：将该commit和前一个commit合并，但我不要保留该提交的注释信息（缩写:f）
exec：执行shell命令（缩写:x）
drop：我要丢弃该commit（缩写:d）

git rebase (--continue | --abort | --skip)

- readlink
```
readlink -f path 可以递归找到path的原始路径
```
- shell特殊变量
|变量	|含义|
|- |-|
|\$0	|当前脚本的文件名|
|\$n	|传递给脚本或函数的参数。n是一个数字，表示第几个参数。例如，第一个参数是\$1，第二个参数是\$2。|
|\$#	|传递给脚本或函数的参数个数。|
|\$*	|传递给脚本或函数的所有参数。|
|\$@	|传递给脚本或函数的所有参数。被双引号(" ")包含时，与 $* 稍有不同，下面将会讲到。|
|\$?	|上个命令的退出状态，或函数的返回值。|
|\$\$	|当前Shell进程ID。对于 Shell 脚本，就是这些脚本所在的进程ID。|

### FAQ
- xshell 连接本地虚拟机耗时长
```
ssh的服务端在连接时会自动检测dns环境是否一致导致
yum list installed | grep ssh
vim /etc/ssh/sshd_config
将 UseDNS yes 改成 UseDNS no
service sshd restart
```
- centos 无法上网
```
vim /etc/resolv.conf 添加DNS解析服务器
dhclient  -r   // 释放IP
dhclient      // 获取IP
```
- centos 静态IP
```
TYPE=Ethernet
PROXY_METHOD=none
BROWSER_ONLY=no
BOOTPROTO=static
DEFROUTE=yes
IPV4_FAILURE_FATAL=no
IPV6INIT=yes
IPV6_AUTOCONF=yes
IPV6_DEFROUTE=yes
IPV6_FAILURE_FATAL=no
IPV6_ADDR_GEN_MODE=stable-privacy
NAME=enp0s3
DEVICE=enp0s3
ONBOOT=yes
IPADDR=10.0.2.16
NETMASK=255.255.255.0
GATEWAY=10.0.2.2
```

- 日增量
```
MOM：
    画像 1800万 100G
    所有日志 400G
```

1.整数比较

-eq 等于,如:if [ "$a" -eq "$b" ]
-ne 不等于,如:if [ "$a" -ne "$b" ]
-gt 大于,如:if [ "$a" -gt "$b" ]
-ge 大于等于,如:if [ "$a" -ge "$b" ]
-lt 小于,如:if [ "$a" -lt "$b" ]
-le 小于等于,如:if [ "$a" -le "$b" ]
<   小于(需要双括号),如:(("$a" < "$b"))
<=  小于等于(需要双括号),如:(("$a" <= "$b"))
>   大于(需要双括号),如:(("$a" > "$b"))
>=  大于等于(需要双括号),如:(("$a" >= "$b"))
2.字符串比较
= 等于,如:if [ "$a" = "$b" ]
== 等于,如:if [ "$a" == "$b" ],与=等价 

echo "MapReduce Total cumulative CPU time: 3 seconds 430 msec
Ended Job = job_1598462530023_103023
MapReduce Jobs Launched:
Stage-Stage-1: Reduce: 1   Cumulative CPU: 3.43 sec   HDFS Read: 4017 HDFS Write: 101 SUCCESS
Total MapReduce CPU Time Spent: 3 seconds 430 msec
OK
0
Time taken: 25.311 seconds, Fetched: 1 row(s)"|tr "\n" " "|awk 'match($0, /.*OK ([0-9]+) Time taken.*/, arr) {print arr[1]}'

3. powershell 提示因为在此系统上禁止运行脚本
```
CommandNotFoundError: Your shell has not been properly configured to use 'conda activate'.
If using 'conda activate' from a batch script, change your
invocation to 'CALL conda.bat activate'.

To initialize your shell, run

    $ conda init <SHELL_NAME>

Currently supported shells are:
  - bash
  - cmd.exe
  - fish
  - tcsh
  - xonsh
  - zsh
  - powershell

See 'conda init --help' for more information and options.

IMPORTANT: You may need to close and restart your shell after running 'conda init'.


PS C:\WINDOWS\system32>  conda init powershell

get-executionpolicy 查看执行策略，默认为restricted
set-executionpolicy remotesigned 设置为可执行外部脚本
```
4.设置pycharm使用powershell
```
setting->terminal->powershell路径
```

角动量守恒、离心力


1千万、30人月、多头 如何引标、控标 智能风控中心、风控中台，完整解决方案 swot、市场分析、产品优势、对标矩阵、竞品功能优劣势  蓝海战术、第二发展曲线
基础组件、弹性计算、基础服务、业务层

模型资产、审批流、模型监控 总行风险部    生命周期节点对应用户角色？
决策引擎：21%毛利
模型管理：350W
15hc 670W
100W-12人月交付人员投入 = 模型管理的毛利
2021年总结
  1.完成小赢多头、汽车金融剁手单等8个产品共创项目
  2.优化利润测算，发现了50多家客户亏损，亏损金额达100多万
  3.开放数据，自助数据分析次数 3000+
  4.盘点数据资产，梳理底层库表1000+
  5.集群规模、数据规模实现 2X


2022年展望
  1.完成模型管理系统上线迭代，丰富公司智能风控产品线
  2.搭建自助分析数据集市，打通模型开发平台和大数据平台，支持一站式数据挖掘
  3.整合公司数据资产，完成8000+库表盘点和数据治理，提升数据安全级别
  4.与数据产品部一起衍生其他数据产品，拓宽公司业务，配合实现数据资产变现
IPD  
POC时间周期 POC范围   POC要求   技术要求  部署方案 